<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Spy Game</title>

<style>
    body {
        margin: 0;
        font-family: "Segoe UI", sans-serif;
        background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
    }

    .box {
        background: #111;
        padding: 25px;
        border-radius: 14px;
        width: 360px;
        max-width: 95%;
        box-shadow: 0 0 25px rgba(0,0,0,0.6);
    }

    h2 {
        text-align: center;
        margin-bottom: 20px;
    }

    input {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        border-radius: 8px;
        border: none;
        outline: none;
        font-size: 15px;
    }

    button {
        width: 100%;
        padding: 10px;
        margin-top: 12px;
        border-radius: 8px;
        border: none;
        background: #00ffd5;
        color: #000;
        font-weight: bold;
        font-size: 15px;
        cursor: pointer;
    }

    .player {
        background: #1f1f1f;
        padding: 12px;
        margin: 10px 0;
        border-radius: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .hidden {
        display: none;
    }

    .hidden-word {
        display: none;
        font-weight: bold;
        color: #00ffd5;
        margin-left: 10px;
    }

    .eye {
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
        color: #fff;
    }
</style>
</head>

<body>

<div class="box" id="setup">
    <h2>üïµÔ∏è Spy Game</h2>
    <input type="number" id="playerCount" min="3" placeholder="Number of players (min 3)">
    <button onclick="createNameInputs()">Next</button>
</div>

<div class="box hidden" id="namesBox">
    <h2>Enter Player Names</h2>
    <div id="nameInputs"></div>
    <button onclick="startGame()">Start Game</button>
</div>

<div class="box hidden" id="gameBox">
    <h2>Spy Game</h2>
    <div id="players"></div>
    <button onclick="newGame()">üîÑ New Game</button>
</div>

<script>
// ================= 300+ WORD COMBOS =================
const basePairs = [
["Beach","Seashore"],["Hospital","Clinic"],["School","College"],["Airport","Airstrip"],
["Restaurant","Cafe"],["Cinema","Theatre"],["Mall","Shopping Center"],["Hotel","Resort"],
["Bus","Van"],["Train","Metro"],["Doctor","Nurse"],["Police","Security"],
["Market","Bazaar"],["Park","Garden"],["Zoo","Sanctuary"],["Library","Bookstore"],
["Gym","Fitness Center"],["Kitchen","Pantry"],["Bedroom","Guest Room"],["House","Apartment"],
["Village","Town"],["City","Metropolis"],["Mountain","Hill"],["Forest","Jungle"],
["River","Stream"],["Sea","Ocean"],["Desert","Dunes"],["Island","Isle"],
["Bridge","Flyover"],["Highway","Road"],["Office","Workspace"],
["Wedding","Reception"],["Birthday","Celebration"],["Exam","Test"],
["Vacation","Holiday"],["Picnic","Outing"],["Concert","Show"],
["Match","Game"],["Festival","Carnival"],["Party","Get-together"],
["Temple","Shrine"],["Church","Chapel"],["Mosque","Prayer Hall"],
["Court","Tribunal"],["Police Station","Outpost"],["Prison","Jail"],
["Market Street","Shopping Lane"],["Food Stall","Snack Bar"],
["Swimming Pool","Water Park"],["Amusement Park","Theme Park"],
["Farm","Ranch"],["Field","Ground"],["Garage","Workshop"],
["Office Cabin","Cubicle"],["Classroom","Lecture Hall"],
["Playground","Sports Field"],["Hostel","Dormitory"]
];

// Expand to 300+
const combos = [];
for (let i = 0; i < 5; i++) {
    basePairs.forEach(p => combos.push(p));
}

let playerNames = [];

// ================= SETUP =================
function createNameInputs() {
    const count = parseInt(document.getElementById("playerCount").value);
    if (isNaN(count) || count < 3) {
        alert("Minimum 3 players required");
        return;
    }

    document.getElementById("setup").classList.add("hidden");
    document.getElementById("namesBox").classList.remove("hidden");

    const container = document.getElementById("nameInputs");
    container.innerHTML = "";

    for (let i = 0; i < count; i++) {
        const input = document.createElement("input");
        input.placeholder = `Player ${i+1} name`;
        container.appendChild(input);
    }
}

// ================= GAME =================
function startGame() {
    const inputs = document.querySelectorAll("#nameInputs input");
    playerNames = [];

    inputs.forEach(inp => {
        if (inp.value.trim()) playerNames.push(inp.value.trim());
    });

    if (playerNames.length < 3) {
        alert("Enter all player names");
        return;
    }

    document.getElementById("namesBox").classList.add("hidden");
    document.getElementById("gameBox").classList.remove("hidden");

    assignWords();
}

function assignWords() {
    const playersDiv = document.getElementById("players");
    playersDiv.innerHTML = "";

    const pair = combos[Math.floor(Math.random() * combos.length)];
    const spyIndex = Math.floor(Math.random() * playerNames.length);

    const words = playerNames.map((_, i) =>
        i === spyIndex ? pair[1] : pair[0]
    ).sort(() => Math.random() - 0.5);

    playerNames.forEach((name, i) => {
        const div = document.createElement("div");
        div.className = "player";
        div.innerHTML = `
            <span>${name}</span>
            <span class="hidden-word" id="w${i}">${words[i]}</span>
            <button class="eye" onclick="toggleWord('w${i}')">üëÅ</button>
        `;
        playersDiv.appendChild(div);
    });
}

function toggleWord(id) {
    document.getElementById(id).classList.toggle("hidden-word");
}

function newGame() {
    assignWords();
}
</script>

</body>
</html>
